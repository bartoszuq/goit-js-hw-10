{"mappings":"AAAA,MAKMA,EAAYC,SAASC,cAAc,iBACzC,IAAIC,EAAUF,SAASC,cAAc,WACjCE,EAAYH,SAASC,cAAc,UACvC,MAAMG,EAAUJ,SAASC,cAAc,aAEvC,SAASI,EAAUC,GACjBA,EAAOC,UAAUC,IAAI,S,CAIvB,SAASC,EAAUH,GACjBA,EAAOC,UAAUG,OAAO,S,CAE1B,SAASC,EAAQC,GACf,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,MAAMJ,GACHK,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBL,EAAOZ,EAEe,IAGzBc,MAAKI,IACJP,EAAQO,EAAK,IAEdC,OAAMC,GAAOR,EAAOQ,IAAK,G,CAlBhClB,EAAUH,GACVG,EAAUF,GAsBRQ,EAnCA,qHAmCmBM,MAAKI,IACtB,MAAMG,EAAaH,EAChBI,KAAIC,GAAW,kBAAkBA,EAAQC,OAAOD,EAAQE,kBACxDC,KAAK,IACR9B,EAAU+B,mBAAmB,aAAcN,EAAW,IAmC1DzB,EAAUgC,iBAAiB,UAV3B,SAA0BC,GACxB3B,EAAUF,GACVM,EAAUP,GACVE,EAAQ6B,UAAY,GAvBtBC,eAA+BC,GAC7B,IACE,MAAMC,EAAS,wDAA8BD,IAEvCE,EAAc,yBADE1B,EAAQyB,IACgB,GAAGxB,8BACjDR,EAAQ0B,mBAAmB,aAAcO,E,CACzC,MAAOC,GACP7B,EAAUN,E,CAGZ,IACE,MAAMoC,EAAU,uCAAuCJ,IACjDK,QAAgB7B,EAAQ4B,GACxBE,EAAiB,4BAA4BD,EAAQZ,eAAeY,EAAQE,yCAAyCF,EAAQG,wBACnIvC,EAAQ0B,mBAAmB,YAAaW,E,CACxC,MAAOG,GACPnC,EAAUN,E,EAQZ0C,CAAgBb,EAAEc,OAAOC,OACzBC,YAAW,WACT3C,EAAUH,E,GACT,I","sources":["src/js/cat-api.js"],"sourcesContent":["const catBreeds =\n  'https://api.thecatapi.com/v1/breeds?api_key=live_pnO057QwBBR2FuVx0XGwucpamirx1mR2sCuBpEMc9YIXWrDDOguylFKAOMLjevvV';\n\nconst chosenCatInfo = 'https://api.thecatapi.com/v1/images/search';\n\nconst catFilter = document.querySelector('.breed-select');\nlet loading = document.querySelector('.loader');\nlet errorInfo = document.querySelector('.error');\nconst catCard = document.querySelector('.cat-info');\n\nfunction hideAlert(loader) {\n  loader.classList.add('hidden');\n}\nhideAlert(loading);\nhideAlert(errorInfo);\nfunction showAlert(loader) {\n  loader.classList.remove('hidden');\n}\nfunction pingUrl(url) {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          reject(errorInfo);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => reject(err));\n  });\n}\n\nfunction fetchBreeds() {\n  pingUrl(catBreeds).then(data => {\n    const catChoices = data\n      .map(dataOne => `<option value='${dataOne.id}'>${dataOne.name}</option>`)\n      .join('');\n    catFilter.insertAdjacentHTML('afterbegin', catChoices);\n  });\n}\nfetchBreeds();\n\nasync function fetchCatByBreed(breedId) {\n  try {\n    const catUrl = `${chosenCatInfo}?breed_ids=${breedId}`;\n    const catData = await pingUrl(catUrl);\n    const pictureLink = `<div><img src=\"${catData[0].url}\" class=\"cat-pic\"></div>`;\n    catCard.insertAdjacentHTML('afterbegin', pictureLink);\n  } catch (error) {\n    showAlert(errorInfo);\n  }\n\n  try {\n    const catInfo = `https://api.thecatapi.com/v1/breeds/${breedId}`;\n    const catData = await pingUrl(catInfo);\n    const catDescription = `<div class=\"cat-txt\"><h1>${catData.name}</h1><p>${catData.description}</p><h2>Temperament</h2><p>${catData.temperament}</p></div>`;\n    catCard.insertAdjacentHTML('beforeend', catDescription);\n  } catch (error) {\n    showAlert(errorInfo);\n  }\n}\n\nfunction handleFilterForm(e) {\n  hideAlert(errorInfo);\n  showAlert(loading);\n  catCard.innerHTML = '';\n  fetchCatByBreed(e.target.value);\n  setTimeout(function () {\n    hideAlert(loading);\n  }, 500);\n}\n\ncatFilter.addEventListener('change', handleFilterForm);\n"],"names":["$c4ebbd28ee7007ee$var$catFilter","document","querySelector","$c4ebbd28ee7007ee$var$loading","$c4ebbd28ee7007ee$var$errorInfo","$c4ebbd28ee7007ee$var$catCard","$c4ebbd28ee7007ee$var$hideAlert","loader","classList","add","$c4ebbd28ee7007ee$var$showAlert","remove","$c4ebbd28ee7007ee$var$pingUrl","url","Promise","resolve","reject","fetch","then","response","ok","json","data","catch","err","catChoices","map","dataOne","id","name","join","insertAdjacentHTML","addEventListener","e","innerHTML","async","breedId","catUrl","pictureLink","error","catInfo","catData","catDescription","description","temperament","error1","$c4ebbd28ee7007ee$var$fetchCatByBreed","target","value","setTimeout"],"version":3,"file":"index.c9bf5050.js.map"}